default_platform(:ios)

platform :ios do
  desc "Generate App Store screenshots for all device sizes and languages"
  lane :screenshots do
    snapshot(
      clean: true,
      erase_simulator: true,
      concurrent_simulators: false,
      stop_after_first_error: false
    )
  end

  desc "Generate screenshots and then apply device frames"
  lane :screenshots_with_frames do
    screenshots
    frameit(white: true)
  end

  desc "Clean derived data before screenshot generation"
  lane :clean_screenshots do
    clear_derived_data
    screenshots
  end
end
